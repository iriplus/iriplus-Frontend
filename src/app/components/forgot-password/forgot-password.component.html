<div class="auth-header">
  <img src="assets/logo.png" alt="Logo" class="auth-logo" />
  <h1 class="auth-title">Recover Password</h1>

  <p class="auth-subtitle" *ngIf="step === 1">
    Enter your email address to receive the verification code
  </p>
  <p class="auth-subtitle" *ngIf="step === 2">
    Enter the 6-digit code sent to your email
  </p>
</div>

<!-- Step 1: Request Email -->
<form class="auth-form" (ngSubmit)="onSubmitEmail()" *ngIf="step === 1">
  <div class="form-group">
    <label for="email" class="form-label">Email Address</label>
    <div class="input-wrapper">
      <svg class="input-icon" viewBox="0 0 24 24" stroke="currentColor">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c1.1-.9 2-2 2-2z"></path>
        <polyline points="22,6 12,13 2,6"></polyline>
      </svg>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        class="form-input"
        placeholder="you@example.com"
        required
      />
    </div>
  </div>

  <button type="submit" class="submit-button">
    Send Code
  </button>
</form>

<!-- Step 2: Enter Code -->
<form class="auth-form" (ngSubmit)="onSubmitCode()" *ngIf="step === 2">
  <div class="form-group">
    <label for="code" class="form-label">Verification Code</label>

    <div class="code-input-container">
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[0]" name="code1" (input)="onCodeInput($event, 0)" (keydown)="onCodeKeydown($event, 0)" />
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[1]" name="code2" (input)="onCodeInput($event, 1)" (keydown)="onCodeKeydown($event, 1)" />
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[2]" name="code3" (input)="onCodeInput($event, 2)" (keydown)="onCodeKeydown($event, 2)" />
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[3]" name="code4" (input)="onCodeInput($event, 3)" (keydown)="onCodeKeydown($event, 3)" />
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[4]" name="code5" (input)="onCodeInput($event, 4)" (keydown)="onCodeKeydown($event, 4)" />
      <input type="text" maxlength="1" class="code-input" [(ngModel)]="code[5]" name="code6" (input)="onCodeInput($event, 5)" (keydown)="onCodeKeydown($event, 5)" />
    </div>

    <p class="code-info">
      The code was sent to <strong>{{ email }}</strong>
    </p>
  </div>

  <button type="submit" class="submit-button">
    Verify Code
  </button>

  <button type="button" class="resend-button" (click)="resendCode()">
    Didnâ€™t receive the code? Resend
  </button>
</form>

<div class="auth-footer">
  <button type="button" class="link-button" (click)="goToLogin()">
    <svg class="back-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <line x1="19" y1="12" x2="5" y2="12"></line>
      <polyline points="12 19 5 12 12 5"></polyline>
    </svg>
    Back to Login
  </button>
</div>
