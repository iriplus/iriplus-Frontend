<div class="classes-container">
  <div class="classes-card">

    <!-- Header -->
    <div class="card-header">
      <div class="header-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
        </svg>
      </div>
      <h1>Gesti√≥n de Clases</h1>
      <p>Administra las clases del sistema</p>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
      <div class="search-container">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.3-4.3"/>
        </svg>
        <input
          type="text"
          class="search-input"
          placeholder="Buscar por c√≥digo, descripci√≥n o nivel..."
          [(ngModel)]="searchText"
          (input)="filterClasses()"
        >
      </div>

      <button class="btn-add" (click)="openCreate()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14"/>
          <path d="M5 12h14"/>
        </svg>
        Nueva Clase
      </button>
    </div>

    <!-- Table -->
    <div class="table-container">
      <table class="classes-table">
        <thead>
          <tr>
            <th>C√≥digo</th>
            <th>Descripci√≥n</th>
            <th>Nivel Sugerido</th>
            <th>Capacidad</th>
            <th>Profesores</th>
            <th>Estudiantes</th>
            <th>Acciones</th>
          </tr>
        </thead>

        <tbody>

  <tr *ngFor="let c of classes">
    <td><span class="class-code">{{ c.class_code }}</span></td>
    <td><span class="class-description">{{ c.description }}</span></td>

    <td>
      <span class="level-badge">
        {{ c.suggested_level }}
      </span>
    </td>

    <td>
      <div class="capacity-info">
        <span class="capacity-current">
          {{ c.students || 0 }}
        </span>
        <span class="capacity-separator">/</span>
        <span class="capacity-max">
          {{ c.max_capacity }}
        </span>
      </div>
    </td>

    <td>
      <div class="teachers-count">
        <span>{{ c.teachers || 0 }}</span>
      </div>
    </td>

    <td>
      <div class="students-count">
        <span>{{ c.students || 0 }}</span>
      </div>
    </td>

    <td>
      <div class="action-buttons">
        <button class="btn-action btn-edit" title="Editar" (click)="openEdit(c)">‚úèÔ∏è</button>
        <button class="btn-action btn-delete" title="Eliminar" (click)="deleteClass(c)">üóëÔ∏è</button>
      </div>
    </td>
  </tr>

  <!-- Estado vac√≠o -->
  <tr *ngIf="!loading && classes.length === 0">
    <td colspan="7" class="no-results">
      <div class="empty-state">
        <p>No se encontraron clases</p>
      </div>
    </td>
  </tr>

</tbody>


      </table>
    </div>

    <!-- Stats -->
    <div class="stats-bar">
      <div class="stat-item">
        <span class="stat-label">Total de clases:</span>
        <span class="stat-value">{{ classes.length }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Mostrando:</span>
        <span class="stat-value">{{ classes.length }}</span>
      </div>
    </div>

  </div>
</div>

<app-class-form
  *ngIf="showForm"
  [isEdit]="!!editingClass"
  [classData]="editingClass"
  (save)="saveClass($event)"
  (cancel)="showForm = false">
</app-class-form>